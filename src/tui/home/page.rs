use crate::themes::{interpolate_rgb, rgb_to_color, Theme};
use ratatui::prelude::*;
use ratatui::widgets::Paragraph;

pub const ANIMATION_FRAMES: [&str; 7] = [
    r#"
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ                   â–‘â–ˆâ–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆ  â–‘â–‘â–ˆâ–ˆâ–ˆ â–‘â–‘â–ˆâ–ˆâ–ˆ 
 â–‘â–ˆâ–ˆâ–ˆ    â–‘â–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘   â–‘â–ˆâ–ˆâ–ˆ  â–‘  â–‘â–ˆâ–ˆâ–ˆ   â–‘â–ˆâ–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–ˆ 
 â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆ â–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆ    â–‘â–ˆâ–ˆâ–ˆ     â–‘â–ˆâ–ˆâ–ˆ   â–‘â–ˆâ–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–ˆ 
 â–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â–‘â–ˆâ–ˆâ–ˆ     â–‘â–ˆâ–ˆâ–ˆ   â–‘â–ˆâ–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–ˆ 
 â–‘â–ˆâ–ˆâ–ˆ    â–‘â–ˆâ–ˆâ–ˆ â–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘  â–‘â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘      â–‘â–ˆâ–ˆâ–ˆ     â–‘â–ˆâ–ˆâ–ˆ   â–‘â–ˆâ–ˆâ–ˆ  â–‘â–ˆâ–ˆâ–ˆ 
 â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
â–‘â–‘â–‘â–‘â–‘   â–‘â–‘â–‘â–‘â–‘  â–‘â–‘â–‘â–‘â–‘â–‘   â–‘â–‘â–‘â–‘â–‘â–‘     â–‘â–‘â–‘â–‘â–‘      â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â–‘â–‘â–‘â–‘â–‘ 
"#,
    r#"
 .S_sSSs      sSSs    sSSs  sdSS_SSSSSSbs   .S       S.    .S 
.SS~YS%%b    d%%SP   d%%SP  YSSS~S%SSSSSP  .SS       SS.  .SS 
S%S   `S%b  d%S'    d%S'         S%S       S%S       S%S  S%S 
S%S    S%S  S%S     S%S          S%S       S%S       S%S  S%S 
S%S    d*S  S&S     S&S          S&S       S&S       S&S  S&S 
S&S   .S*S  S&S_Ss  S&S_Ss       S&S       S&S       S&S  S&S 
S&S_sdSSS   S&S~SP  S&S~SP       S&S       S&S       S&S  S&S 
S&S~YSY%b   S&S     S&S          S&S       S&S       S&S  S&S 
S*S   `S%b  S*b     S*b          S*S       S*b       d*S  S*S 
S*S    S%S  S*S.    S*S.         S*S       S*S.     .S*S  S*S 
S*S    S&S   SSSbs   SSSbs       S*S        SSSbs_sdSSS   S*S 
S*S    SSS    YSSP    YSSP       S*S         YSSP~YSSY    S*S 
SP                               SP                       SP  
Y                                Y                        Y   
"#,
    r#"
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â•     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘
â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•    â•šâ•â•â•â•â•â• â•šâ•â•
"#,
    r#"
 â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„  â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„  â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„  â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„  â–„         â–„  â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„ 
â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–Œ       â–â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ
â–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–ˆâ–‘â–Œâ–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€ â–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€  â–€â–€â–€â–€â–ˆâ–‘â–ˆâ–€â–€â–€â–€ â–â–‘â–Œ       â–â–‘â–Œ â–€â–€â–€â–€â–ˆâ–‘â–ˆâ–€â–€â–€â–€ 
â–â–‘â–Œ  -w-  â–â–‘â–Œâ–â–‘â–Œ          â–â–‘â–Œ               â–â–‘â–Œ     â–â–‘â–Œ       â–â–‘â–Œ     â–â–‘â–Œ     
â–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–‘â–Œâ–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„ â–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„      â–â–‘â–Œ     â–â–‘â–Œ       â–â–‘â–Œ     â–â–‘â–Œ     
â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ     â–â–‘â–Œ     â–â–‘â–Œ       â–â–‘â–Œ     â–â–‘â–Œ     
â–â–‘â–ˆâ–€â–€â–€â–€â–ˆâ–‘â–ˆâ–€â–€ â–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€ â–â–‘â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€      â–â–‘â–Œ     â–â–‘â–Œ       â–â–‘â–Œ     â–â–‘â–Œ     
â–â–‘â–Œ     â–â–‘â–Œ  â–â–‘â–Œ          â–â–‘â–Œ               â–â–‘â–Œ     â–â–‘â–Œ       â–â–‘â–Œ     â–â–‘â–Œ     
â–â–‘â–Œ      â–â–‘â–Œ â–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„ â–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–„â–„      â–â–‘â–Œ     â–â–‘â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–‘â–Œ â–„â–„â–„â–„â–ˆâ–‘â–ˆâ–„â–„â–„â–„ 
â–â–‘â–Œ       â–â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ     â–â–‘â–Œ     â–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œâ–â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–Œ
 â–€         â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€       â–€       â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€ 
"#,
    r#"
_|_|_|                      _|_|_|_|_|  _|    _|  _|_|_| 
_|    _|    _|_|      _|_|      _|      _|    _|    _|   
_|_|_|    _|_|_|_|  _|_|_|_|    _|      _|    _|    _|   
_|    _|  _|        _|          _|      _|    _|    _|   
_|    _|    _|_|_|    _|_|_|    _|        _|_|    _|_|_| 
"#,
    r#"
 ,ggggggggggg,                   ,ggggggggggggggg ,ggg,         gg       ,a8a, 
dP"""88"""""Y8,                dP""""""88"""""""dP""Y8a        88      ,8" "8,
Yb,  88      `8b                Yb,_    88       Yb, `88        88      d8   8b
 `"  88      ,8P                 `""    88        `"  88        88      88   88
     88aaaad8P"                         88            88        88      88   88
     88""""Yb,     ,ggg,    ,ggg,       88            88        88      Y8   8P
     88     "8b   i8" "8i  i8" "8i      88            88        88      `8, ,8'
     88      `8i  I8, ,8I  I8, ,8Igg,   88            88        88 8888  "8,8" 
     88       Yb, `YbadP'  `YbadP' "Yb,,8P   |\ /|    Y8b,____,d88,`8b,  ,d8b, 
     88        Y8888P"Y888888P"Y888  "Y8P'    (>v<)     "Y888888P"Y8  "Y88P" "Y8
"#, // don't ask my why                        i made this
    r#"              ðŸ¬½  ðŸ¬¦ðŸ¬‚ðŸ­• ðŸ­„ðŸ­¢ðŸ¬¾ ðŸ­ ðŸ¬‚ðŸ¬½  â–‚ðœº£                                                                                                                          
             ðŸ­‚â ˆðœ´…ðŸ¬­ðœº¨â .ðŸ®‚â–â–ðœº«ðœº¨ðœº¨ ðŸ­¤ðŸ¬­ðŸ®‚ðŸ®‡â–Œ  ðŸ¬­                                                                                                                       
         ðŸ®ˆâ–”â–”ðŸ¬‚ðŸ­— ðŸ­â–‚.ðŸ­ˆðŸ¬¼â–•_ ðœ´Ë›ðœº ðŸ¬¼â–‚â–‚  â ˆâ–”â–”â–•                                                                                                                       
       ðŸ®‚ðŸ®‚ðœº¨   ðŸ­ðŸ¬­ðŸ­„â–”ðŸ®‚Î„ðŸ­¢ðŸ¬­â–ðœº¨ðŸ¬žðœ´‚Î„ðœº«ðŸ®‚ðŸ­£ðŸ¬­ðŸ¬_, .ðŸ®‚ðŸ®‚ðœµŽðœ´€                                                                                                                   
    ðŸ¬¦ðŸ¬‚ðŸ¬‚â–  ðœº ðŸ­†ðŸ¬‚                  ðŸ¬ðŸ¬‚ðŸ¬¿Î‡  ðŸ¬â–€ðŸ¬‚ðŸ¬‚                                                                                                                 
    â–ðŸ­”    ðœº«ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðœ´…ðŸ¬­ðŸ­•  â–”â–€â”Ž  â–•ðŸ­½â–                                                                                                                
 ðŸ¬‡ðœ´¶â–”â–”Î„                         ðŸ­¢ðŸ­ðŸ­”  ðŸ¬“Â¡  â–”ðŸ­¾â–‚                                              ðŸ®‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ­€  ðŸ®‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚       ðŸ­‹ðŸ®‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðœµˆ     ðŸ®‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ­€        
 _ðŸ­ŸðŸ¬„â–•ðŸ­½â–”â–€ðŸ¬â–—â–€â–€ðŸ­”     .â–€â–€â–€â–€â–€â–€â–€ðŸ­”     â–ðŸ­¥ ðŸ­ŸðŸ­‚ðŸ®ˆâ–”ðœµˆ ðŸ®‡                                               ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ­”   â–•ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ­— â–•â–   â–•       ðŸ®ˆ    ðŸ®‡     ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚â–   â–•ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ­—        
ðŸ­¤ðœº£Î„ â–•ðŸ¬‚â–€ðœº£ðŸ­ŠðŸ¬€  â–Ž     â–•ðŸ­¼ðŸ¬½ðŸ¬½ðŸ¬½ðŸ¬½ðŸ¬½ðŸ¬½â–Ž     â–Œâ–Ž ðŸ­â–‚ðœ´¿â–€ðŸ¬€ â ˆðŸ­¾ðŸ­Š    ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­       ðŸ¬žðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬            â–Ž   â–•â–Ž      â–•â–   â–•       ðŸ®ˆ    ðŸ®‡          â–   â–•â–Ž             
ðŸ­‰â–€â–˜  ðŸ®‡ðŸ­½â–”    â–Ž                 ðŸ­Ÿâ–—ðŸ­˜Î„   â ˆðœµˆâ– â–•â–€â–€ ðœº â–‚ðŸ¬½â–Ž ðŸ­‡â–‚â–‚â–‚â–‚â–‚â–‚â–‚ðŸ¬¼ ðŸ®‡ðŸ¬½â–‚ðŸ¬¼  â–‚ðŸ¬½ðœ´â–ŽðŸ­â–‚â–‚â–‚â–‚â–‚â–‚â–‚ðŸ¬½ â ¸ðŸ­¼â–â–‚          â–Ž   â–•â–Ž       â–   â–•       ðŸ®ˆ    ðŸ®‡          â–   â–•â–Ž             
ðœ´…â–‚ðœº£  â–•      â–Ž                 â ˆðŸ¬ðŸ¬“   ðŸ­‡â–‚ðœ´ðŸ­ƒ ðŸ­â–‚ðŸ­Š â–ŒË™â–”  ðŸ®ˆâ–â–â–â–â–â–â–â–  â–”â–”â–  â–â–”â  â–•ðŸ­¼â–â–â–â–â–â–ðŸ­¿. Â¯ ðŸ®‡          â–Ž   â–•â–Ž      â–•â–   â–•       ðŸ®ˆ    ðŸ®‡          â–   â–•â–Ž             
ðŸ­‰ðœ´‚ðœº¨  ðŸ®‡ðŸ­¼     â–Ž     â–•ðŸ­½â–”â–”â–”â–”â–”â–â¡€    â ˆâ–ðŸ¬½  ðŸ®‡ðŸ®ˆ   â ˆðŸ­£ðŸ¬¿ ðŸ®ˆ    Ë›â–â–â–â–â–â–â–â–â–â–â–â–â–  â–    â–â–â–â–â–â–â–â–â–â–â–â–ðŸ®‡          â–Ž   â–•â–Ž       â–   â–•       ðŸ®ˆ    ðŸ®‡          â–   â–•â–Ž             
ðŸ­¢ðŸ¬Šâ–‚ðœº£  ðŸ­¢ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ­—     .ðŸ¬‚ðŸ¬‚ðŸ¬‚ðŸ¬“  ðŸ­â–Ž      .ðŸ¬‚ðŸ­˜Î„   .â–‚ðŸ¬­ðŸ­˜ â–Œ    ðŸ®ˆ               â–   â–•                       â–Ž   â–•â–Ž       â–   â–•       ðŸ®ˆ    ðŸ®‡          â–   â–•â–Ž             
 ðŸ­‰ðŸ­„Î„                 â–•ðŸ®‡   â–Ž.             â–”â–€  ðŸ­¢â–”â–”â–Ž ðœº«ðŸ­˜ðŸ®‚ðŸ®‚ðŸ®‚ðŸ­˜ðŸ­˜ðŸ­˜ðŸ®‚ðŸ®‚ðŸ­¾     â–”â–”ðœµˆðŸ­€ðŸ­¢ðŸ®‚ðŸ­˜ðŸ®‚ðŸ®‚ðŸ­˜ðŸ­˜ðŸ­˜ðŸ®‚ðŸ®‚ðŸ®‚ðŸ­€            â–Ž   â–•â–Ž       â–”â–”ðœµˆâ–.ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðœº¨ â•·ðŸ­½â–”â–”     ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚Î„   .ðŸ®‚ðŸ­˜ðŸ­˜ðŸ®‚ðŸ®‚ðŸ­€        
 ðŸ­¢ðŸ®‚ðŸ®‚ðœµˆ    ðŸ¬žðŸ¬­â–‚â–‚â–‚â–‚â–‚â–‚â–‚â–‚â–‚â–‚â–‚ðœ´    ðŸ®‚â–‚â–‚â–‚â–‚â–‚â–‚â–‚ðŸ¬¼   â–•ðœ¶–ðŸ®‚ðŸ®‚     ðŸ¬‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ¬‚ðŸ¬‚ðŸ¬‚       ðŸ¬ðŸ¬‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ¬‚ðŸ¬‚ðŸ­—            ðŸ¬‚ðŸ¬‚ðŸ®‚ðŸ®‚ðŸ¬‚ðŸ­—         ðŸ¬ðŸ¬‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ¬‚        ðŸ¬‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ®‚ðŸ¬‚ðŸ­—        
   ðœ´˜ðŸ­¼â–â–. ðŸ­¢ðŸ®‚ðœµ³ðŸ®€ðœ´¸ðŸ®‡              ðŸ®‡â–”ðœµ³ðŸ®€ðœ´¸â–”Î„ Ë›â–â–ðŸ®€                                                                                                                 
      â–•â–â–â–â ˜ðŸ¬‰ðŸ¬¼ðŸ­¿ðŸ­¤ðŸ¬             ðŸ¬„ðŸ®‡â–Œ â–Ž â–â–ðŸ¬‰ðŸ¬                                                                                                                   
       ðœ´‚ ðŸ®ˆ Â¯â–”Î„ â ˆâ–”ðœ´…ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ¬­ðŸ­‚â–”` ðœº«ðŸ®‚Î„â–•Â¯ðŸ­¤â–€â–˜                                                                                                                   
         ðŸ¬‰ðŸ¬­ðŸ­šðŸ®‚ðŸ­€ â–â–â–  â–  Ë›_  ðŸ­ðŸ¬­_ðŸ®‡ðœ¶–ðŸ®‚ðŸ¬ŠðŸ¬­                                                                                                                       
             â–€ðŸ­„Î„â–”ðŸ­¤â–ðŸ­†Î„ðŸ¬½â–ðŸ­›ðŸ¬ðŸ¬¿â–â–€ ðŸ­¢â–€â–˜                                                                                                                          "#,
];

pub const FRAME_DURATION_MS: u64 = 500;

pub fn draw_home_ui<B: Backend>(f: &mut Frame, current_frame_index: usize, theme: &Theme) {
    let size = f.area();

    let background = ratatui::widgets::Block::default()
        .style(Style::default().bg(rgb_to_color(&theme.colors.background)));
    f.render_widget(background, size);

    let chunks = Layout::default()
        .direction(Direction::Vertical)
        .constraints(
            [
                Constraint::Length(2),
                Constraint::Min(0),
                Constraint::Length(1),
                Constraint::Length(1),
                Constraint::Length(1),
            ]
            .as_ref(),
        )
        .split(size);

    let current_frame_str = ANIMATION_FRAMES[current_frame_index];
    let lines: Vec<&str> = current_frame_str.lines().collect();

    let num_logo_lines = lines.len();
    let max_logo_line_width = lines.iter().map(|line| line.len()).max().unwrap_or(0) as u16;

    let mut text_lines: Vec<Line> = Vec::new();

    let num_lines_for_gradient = if num_logo_lines <= 1 {
        1.0
    } else {
        (num_logo_lines - 1) as f32
    };

    for (line_idx, line_str) in lines.iter().enumerate() {
        let mut spans = Vec::new();
        let fraction_y = line_idx as f32 / num_lines_for_gradient;

        for ch in line_str.chars() {
            let interpolated_rgb = interpolate_rgb(
                &theme.colors.title_gradient_start,
                &theme.colors.title_gradient_end,
                fraction_y,
            );
            spans.push(Span::styled(
                ch.to_string(),
                Style::default().fg(rgb_to_color(&interpolated_rgb)),
            ));
        }
        text_lines.push(Line::from(spans));
    }

    let logo_paragraph = Paragraph::new(text_lines).alignment(Alignment::Center);

    let logo_area_height = num_logo_lines as u16;

    let logo_x = chunks[1].x + (chunks[1].width.saturating_sub(max_logo_line_width)) / 2;
    let logo_y = chunks[1].y + (chunks[1].height.saturating_sub(logo_area_height)) / 2;

    let centered_logo_rect = Rect {
        x: logo_x.max(chunks[1].x),
        y: logo_y.max(chunks[1].y),
        width: max_logo_line_width.min(chunks[1].width),
        height: logo_area_height.min(chunks[1].height),
    };
    f.render_widget(logo_paragraph, centered_logo_rect);
    let instructions_text = "Press any ï„œ key to go to Chat, 'Q' to quit.";

    let instructions = Paragraph::new(Line::from(instructions_text))
        .style(Style::default().fg(rgb_to_color(&theme.colors.instructions_text)))
        .alignment(Alignment::Center);
    f.render_widget(instructions, chunks[2]);
}
